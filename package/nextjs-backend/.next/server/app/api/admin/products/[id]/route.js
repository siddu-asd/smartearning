(()=>{var e={};e.id=616,e.ids=[616],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},6222:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>x,routeModule:()=>l,serverHooks:()=>h,workAsyncStorage:()=>m,workUnitAsyncStorage:()=>v});var s={};r.r(s),r.d(s,{DELETE:()=>p,PUT:()=>d});var a=r(2706),i=r(8203),o=r(5994),n=r(9187),u=r(1037),c=r(5369);async function d(e,{params:t}){try{let{authenticated:r}=await (0,c.J)();if(!r)return n.NextResponse.json({success:!1,error:"Unauthorized"},{status:401});let{id:s}=await t,a=await e.json(),i=(0,u.Z)(),{data:o,error:d}=await i.from("product").update({...a.title&&{title:a.title},...a.slug&&{slug:a.slug},...a.category&&{category:a.category},...a.image_url&&{image_url:a.image_url},...a.affiliate_link&&{affiliate_link:a.affiliate_link},...void 0!==a.is_active&&{is_active:a.is_active},...void 0!==a.mrp&&{mrp:a.mrp?Number(a.mrp):null},...void 0!==a.discounted_price&&{discounted_price:a.discounted_price?Number(a.discounted_price):null}}).eq("id",s).select().single();if(d)return console.error("Error updating product:",d),n.NextResponse.json({success:!1,error:"Failed to update product"},{status:500});return n.NextResponse.json({success:!0,data:o})}catch(e){return console.error("Admin product update error:",e),n.NextResponse.json({success:!1,error:"Internal server error"},{status:500})}}async function p(e,{params:t}){try{let{authenticated:e}=await (0,c.J)();if(!e)return n.NextResponse.json({success:!1,error:"Unauthorized"},{status:401});let{id:r}=await t,s=(0,u.Z)(),{error:a}=await s.from("product").delete().eq("id",r);if(a)return console.error("Error deleting product:",a),n.NextResponse.json({success:!1,error:"Failed to delete product"},{status:500});return n.NextResponse.json({success:!0})}catch(e){return console.error("Admin product delete error:",e),n.NextResponse.json({success:!1,error:"Internal server error"},{status:500})}}let l=new a.AppRouteRouteModule({definition:{kind:i.RouteKind.APP_ROUTE,page:"/api/admin/products/[id]/route",pathname:"/api/admin/products/[id]",filename:"route",bundlePath:"app/api/admin/products/[id]/route"},resolvedPagePath:"C:\\Users\\siddu\\Downloads\\shop-ecommerce-react-template-2025-12-31-12-35-34-utc\\React-Pixio-v1.0-25_Feb_2025\\package\\package\\nextjs-backend\\app\\api\\admin\\products\\[id]\\route.ts",nextConfigOutput:"",userland:s}),{workAsyncStorage:m,workUnitAsyncStorage:v,serverHooks:h}=l;function x(){return(0,o.patchFetch)({workAsyncStorage:m,workUnitAsyncStorage:v})}},6487:()=>{},8335:()=>{},5369:(e,t,r)=>{"use strict";r.d(t,{J:()=>a});var s=r(1487);async function a(){let e=await (0,s.R)(),{data:{user:t},error:r}=await e.auth.getUser();return r||!t?{authenticated:!1,user:null}:{authenticated:!0,user:t}}},1037:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var s=r(7752);function a(){let e="https://isseiuhezyxyuawtbajk.supabase.co",t=process.env.SUPABASE_SERVICE_ROLE_KEY;if(!e||!t)throw Error("Missing Supabase admin credentials");return(0,s.UU)(e,t,{auth:{autoRefreshToken:!1,persistSession:!1}})}},1487:(e,t,r)=>{"use strict";r.d(t,{R:()=>i});var s=r(9064),a=r(4512);async function i(){let e=await (0,a.UL)();return(0,s.createServerClient)("https://isseiuhezyxyuawtbajk.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imlzc2VpdWhlenl4eXVhd3RiYWprIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk3MDA3MDIsImV4cCI6MjA4NTI3NjcwMn0.HLwNG4v0VQjJVaNHAIV0AhuTj3ZNjRnYPHBzJqHuICE",{cookies:{get:t=>e.get(t)?.value,set(t,r,s){try{e.set({name:t,value:r,...s})}catch(e){}},remove(t,r){try{e.set({name:t,value:"",...r})}catch(e){}}}})}}};var t=require("../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[10,295,452],()=>r(6222));module.exports=s})();